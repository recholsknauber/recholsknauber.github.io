{"version":3,"sources":["quil/middlewares/deprecated_options.cljc"],"mappings":";AAEA,iDAAA,2CAAA,wDAAA,mFAAA,MAAA,sDAAA,wDAAA,mFAAA,MAAA,gDAAA,qEAAA,mFAAA,MAAA,loBAAeA;AAKf,4DAAA,5DAAOC,gIAAuBC;AAA9B,AACE,IAAMA,eAAS,AAACC,cAAID;AAApB,AACE,oBAAM,yFAAA,gGAAA,xLAACA,6CAAAA,oHAAAA;AAAP,AACE,yGAAA,iEAAA,1KAACE;;AADH;;AAGA,iEAAA,1DAACC,6CAAKH;;AAEV;;;;yDAAA,zDAAMI,0HAGHC;AAHH,AAIE,IAAMA,cAAQ,0DAAA,mFAAA,7IAACC,kDAAUD,iKAAoBN;AAA7C,2JACO,iBAAAQ,qBAAA,+EAAAC,zLAKA,AAAC8B,+CAAOC,tIACR,oDAAA,7CAACC;AAND,AAAA,YAAA/B,kBAAA,KAAA;AAAA,AAAA,IAAAD,eAAAA;;AAAA,AAAA,IAAAE,qBAAA,AAAAC,cAAAH;AAAA,AAAA,GAAAE;AAAA,AAAA,IAAAF,eAAAE;AAAA,AAAA,GAAA,AAAAE,6BAAAJ;AAAA,IAAAK,kBAy7E0C,AAAA4B,sBAAAjC;IAz7E1CM,qBAAA,AAAAC,gBAAAF;IAAAG,WAAA,AAAAC,uBAAAH;AAAA,AAAA,GAAA,AAAA,iBAAAI,WAAA;;AAAA,AAAA,GAAA,CAAAA,WAAAJ;AAAA,IAAAK,aAAA,AAAAC,eAAAP,gBAAAK;WAAA,AAAAG,4CAAAF,WAAA,IAAA,lEAAOY;YAAP,AAAAV,4CAAAF,WAAA,IAAA,nEAAYa;AAAZ,AAAA,AAAA,AAAAV,uBAAAN,SACE,iBAAAiB,qBAA2B,CAACnC,+EAAAA,qFAAAA,RAAWiC,iEAAAA;AAAvC,AAAA,oBAAAE;AAAA,IAAAC,aAAAD;cAAA,AAAAZ,4CAAAa,WAAA,IAAA,rEAAUE;cAAV,AAAAf,4CAAAa,WAAA,IAAA,rEAAkBG;AAAlB,AACE,AAAI,8GAAA,qCAAA,nJAACnC,yGAAQ6B,kCAAkCK,YAAYC;;AAA3D;;AADF,0FAGGN,KAAKC;;;;AAJV,eAAA,CAAAd,WAAA;;;;AAAA;;;;;AAAA,OAAAK,qBAAA,AAAAC,gBAAAR,UAAA,AAAAS,qEAAA,AAAAC,qBAAAlB;;AAAA,OAAAe,qBAAA,AAAAC,gBAAAR,UAAA;;;AAAA,IAAAW,aAAA,AAAAC,gBAAApB;WAAA,AAAAa,4CAAAM,WAAA,IAAA,lEAAOI;YAAP,AAAAV,4CAAAM,WAAA,IAAA,nEAAYK;AAAZ,AAAA,OAAAH,eACE,iBAAAI,qBAA2B,CAACnC,+EAAAA,qFAAAA,RAAWiC,iEAAAA;AAAvC,AAAA,oBAAAE;AAAA,IAAAE,aAAAF;cAAA,AAAAZ,4CAAAc,WAAA,IAAA,rEAAUC;cAAV,AAAAf,4CAAAc,WAAA,IAAA,rEAAkBE;AAAlB,AACE,AAAI,8GAAA,qCAAA,nJAACnC,yGAAQ6B,kCAAkCK,YAAYC;;AAA3D;;AADF,0FAGGN,KAAKC;;KAJV,AAAAP,qEAAA,AAAAK,eAAAtB;;;AAAA;;;;GAAA,KAAA;;AAAA,AAAA,OAAAD,mBAAmBF","names":["quil.middlewares.deprecated-options/deprecated","quil.middlewares.deprecated-options/check-features-vector","features","cljs.core/set","cljs.core.println","cljs.core.disj","quil.middlewares.deprecated-options/deprecated-options","options","cljs.core.update_in","iter__5523__auto__","s__16420","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__16422","cljs.core/chunk-buffer","i__16421","vec__16424","cljs.core/-nth","cljs.core.nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__16419","cljs.core/chunk-rest","vec__16432","cljs.core/first","cljs.core/cons","cljs.core/rest","name","value","temp__5802__auto__","vec__16428","vec__16435","version","message","cljs.core.remove","cljs.core/nil?","cljs.core.into","cljs.core/chunk-first"],"sourcesContent":["(ns quil.middlewares.deprecated-options)\n\n(def ^:private deprecated\n  {:decor [\"2.0\" \"Try :features [:present] for similar effect\"]\n   :target [\"2.0\" \"Use :features [:keep-on-top] instead.\"]\n   :safe-draw-fn [\"2.0\" \"Use :features [:no-safe-fns] instead.\"]})\n\n(defn- check-features-vector [features]\n  (let [features (set features)]\n    (when (features :no-safe-draw)\n      (println \"Feature :no-safe-draw was renamed to :no-safe-fns in Quil 2.1.\"\n               \"Use :feature [:no-safe-fns] now.\"))\n    (disj features :no-safe-draw)))\n\n(defn deprecated-options\n  \"Checks `options` map for deprecated options, removes them and\n  prints messages explaining how to fix them.\"\n  [options]\n  (let [options (update-in options [:features] check-features-vector)]\n    (->> (for [[name value] options]\n           (if-let [[version message] (deprecated name)]\n             (do (println name \"option was removed in Quil\" version \".\" message)\n                 nil)\n             [name value]))\n         (remove nil?)\n         (into {}))))\n"]}